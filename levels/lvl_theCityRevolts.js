var theCityRevolts = {
	
	name: "The City Revolts",
	description: "City Placeholder!",
 
 	sizeX: 36,
 	sizeY: 12,
 	
 	background: 'img/theCityRevolts.png',
 	
 	startLocations: [
 		{x:2,y:2},
 		{x:3,y:2},
 		{x:4,y:2},
 		{x:5,y:2}
 	],
 	
 	walls: [
 		{x:9,y:5},
 		{x:8,y:4},
 		{x:9,y:3},
 		{x:8,y:2},
 		{x:9,y:1},
 		{x:8,y:50},
 		{x:4,y:6},
 		{x:4,y:6},
 		{x:3,y:6},
 		{x:3,y:7},
 		{x:2,y:7},
 		{x:1,y:8},
 		{x:0,y:8},
 		{x:5,y:6},
 		{x:6,y:7},
 		{x:7,y:7},
 		{x:7,y:8},
 		{x:13,y:6},
 		{x:13,y:7},
 		{x:14,y:7},
 		{x:15,y:7},
 		{x:16,y:7},
 		{x:16,y:8},
 		{x:17,y:8},
 		{x:18,y:9},
 		{x:19,y:9},
 		{x:19,y:10},
 		{x:18,y:10},
 		{x:18,y:11},
 		{x:5,y:10},
 	],
 		
 	pits: [
 		{x:0,y:0},
 		{x:1,y:0},
 		{x:2,y:0},
 		{x:3,y:0},
 		{x:4,y:0},
 		{x:5,y:0},
 		{x:6,y:0},
 		{x:7,y:0},
 		{x:8,y:0},
 		{x:9,y:0},
 		{x:10,y:0},
 		{x:11,y:0},
 		{x:12,y:0},
 		{x:13,y:0},
 		{x:14,y:0},
 		{x:15,y:0},
 		{x:16,y:0},
 		{x:17,y:0},
 		{x:18,y:0},
 		{x:19,y:0},
 		{x:20,y:0},
 		{x:21,y:0},
 		{x:22,y:0},
 		{x:23,y:0},
 		{x:24,y:0},
 		{x:25,y:0},
 		{x:26,y:0},
 		{x:27,y:0},
 		{x:28,y:0},
 		{x:29,y:0},
 		{x:30,y:0},
 		{x:31,y:0},
 		{x:32,y:0},
 		{x:33,y:0},
 		{x:34,y:0},
 		{x:35,y:0},
 		{x:0,y:11},
 		{x:1,y:11},
 		{x:2,y:11},
 		{x:3,y:11},
 		{x:4,y:11},
 		{x:5,y:11},
 		{x:6,y:11},
 		{x:7,y:11},
 		{x:8,y:11},
 		{x:9,y:11},
 		{x:10,y:11},
 		{x:11,y:11},
 		{x:13,y:11},
 		{x:14,y:11},
 		{x:15,y:11},
 		{x:16,y:11},
 		{x:17,y:11},
 		{x:18,y:11},
 		{x:19,y:11},
 		{x:20,y:11},
 		{x:21,y:11},
 		{x:22,y:11},
 		{x:23,y:11},
 		{x:24,y:11},
 		{x:25,y:11},
 		{x:26,y:11},
 		{x:27,y:11},
 		{x:28,y:11},
 		{x:29,y:11},
 		{x:30,y:11},
 		{x:31,y:11},
 		{x:32,y:11},
 		{x:33,y:11},
 		{x:34,y:11},
 		{x:35,y:11},
 		{x:0,y:1},
 		{x:1,y:1},
 		{x:2,y:1},
 		{x:0,y:2},
 		{x:0,y:3},
 		{x:1,y:3},
 		{x:0,y:4},
 		{x:1,y:4},
 		{x:0,y:5},
 		{x:1,y:5},
 		{x:2,y:5},
 		{x:0,y:6},
 		{x:1,y:6},
 		{x:2,y:6},
 		{x:6,y:1},
 		{x:6,y:2},
 		{x:7,y:3},
 		{x:6,y:4},
 		{x:7,y:4},
 		{x:0,y:9},
 		{x:10,y:5},
 		{x:16,y:6},
 		{x:17,y:6},
 		{x:18,y:6},
 		{x:19,y:6},
 		{x:20,y:6},
 		{x:10,y:4},
 		{x:11,y:3},
 		{x:11,y:2},
 		{x:12,y:2},
 		{x:13,y:1},
 		{x:14,y:1},
 		{x:15,y:1},
 		{x:16,y:1},
 		{x:17,y:1},
 		{x:18,y:1},
 		{x:17,y:3},
 		{x:18,y:3},
 		{x:19,y:3},
 		{x:20,y:3},
 		{x:21,y:3},
 		{x:22,y:3},
 		{x:23,y:3},
 		{x:24,y:3},
 		{x:25,y:3},
 		{x:25,y:1},
 		{x:26,y:1},
 		{x:26,y:2},
 		{x:27,y:3},
 		{x:28,y:3},
 		{x:28,y:4},
 		{x:28,y:5},
 		{x:29,y:5},
 		{x:29,y:6},
 		{x:30,y:6},
 		{x:31,y:6},
 		{x:31,y:7},
 		{x:32,y:7},
 		{x:31,y:8},
 		{x:31,y:9},
 		{x:30,y:10},
 		{x:29,y:10},
 		{x:12,y:8},
 		{x:12,y:9},
 		{x:13,y:9},
 		{x:13,y:10},
 		{x:20,y:7},
 		{x:19,y:8},
 		{x:20,y:10},
 		{x:21,y:10},
 		{x:8,y:9},
 		{x:20,y:8},
 		{x:30,y:1},
 		{x:31,y:1},
 		{x:32,y:1},
 	],
 	
 	mobs: [
 		
 		{
			x:15,
			y:5,
			type:dataMobs.beulahHill,
			id: "beulahHill",
			name: "Beulah Hill",
			ai: 'dormant',
 		},
 		
 		{
			x:15,
			y:3,
			type: dataMobs.elderBock,
			id: "elderBock",
			name: "Elder Bock",
			ai: 'dormant',
 		},
 		
 		{
			x:9,
			y:10,
			type: dataMobs.motherSkullgoblet,
			id: "motherSkullgoblet",
			name: "Mother Skullgoblet",
			ai: 'dormant',
 		},
 		
 		{
 			x: 1,
 			y: 9,
 			type: dataMobs.looter,
 			id: "looter1",
 			name: "Filthy-mouthed Looter",
 		},
 		
 		{
 			x: 1,
 			y: 10,
 			type: dataMobs.looter,
 			id: "looter2",
 			name: "Shifty-eyed Looter",
 		},
 		
 		{
 			x: 30,
 			y: 0,
 			type: dataMobs.assassin,
 			id: "assassin1",
 			name: "Gnome Assassin",
 		},
 		
 		{
 			x: 31,
 			y: 0,
 			type: dataMobs.assassin,
 			id: "assassin2",
 			name: "Dwarf Assassin",
 		},
 		
 		{
 			x:27,
 			y:4,
 			type: dataMobs.daisy,
 			id: 'daisy',
 			name: 'Daisy Moucau',
 			ai: 'dormant',
 		},
 		
 		{
			x:15,
			y:4,
			type:dataMobs.guildmasterMoucau,
			id: "guildmasterMoucau",
			name: "Guildmaster Moucau",
			ai: 'dormant',
 		},
 	],
 	
 	triggers: [
 	
 		{
 			x: 8,
 			y: 6,
 			event: 'guildmaster',
 		},
 	
 		{
 			x: 8,
 			y: 7,
 			event: 'guildmaster',
 		},
 	
 		{
 			x: 11,
 			y: 5,
 			event: 'cryForHelp',
 		},
 	
 		{
 			x: 11,
 			y: 6,
 			event: 'cryForHelp',
 		},
 	
 		{
 			x: 12,
 			y: 7,
 			event: 'cryForHelp',
 		},
 		
 		{
 			x: 7,
 			y: 10,
 			event: 'stopThief',
 		},
 		
 		{
 			x: 14,
 			y: 4,
 			event: 'charter',
 		},
 		
 		{
 			x: 20,
 			y: 4,
 			event: 'assassins',
 		},
 		
 		{
 			x: 21,
 			y: 5,
 			event: 'assassins',
 		},
 		
 		{
 			x: 21,
 			y: 9,
 			event: 'safe',
 		},
 	],
 	
 	events: {
 	
 		guildmaster: function() {
 			view.displayDialogue("There's the guildmaster!",this.name,this.imgBust,"left");
 			view.nextEvent('guildmaster2');
 			map.findHex(8,6).event = undefined;
 			map.findHex(8,7).event = undefined;
 		},
 		
 		guildmaster2: function() {
 			view.displayDialogue("Quick, let's go talk to him before he takes the stage!",heroes[0].name,heroes[0].img,"left");
 		},
 		
 		cryForHelp: function() {
 			view.displayDialogue("Wait, did you hear that?",this.name,this.imgBust,"left");
 			view.nextEvent('cryForHelp2');
 			map.findHex(11,5).event = undefined;
 			map.findHex(11,6).event = undefined;
 			map.findHex(12,7).event = undefined;
 		},
 		
 		cryForHelp2: function() {
 			var skullgoblet = game.findMob('motherSkullgoblet');
 			view.displayDialogue("Help!  Looters! Thieves!  They're ransacking my poor shop!  Help!",skullgoblet.name,skullgoblet.imgBust,"right");
 			view.nextEvent('cryForHelp3');
 		},
 		
 		cryForHelp3: function() {
 			view.displayDialogue("If we get involved, we may miss the Guildmaster.  What do you think?",mobs[1].name,mobs[1].imgBust,"right");
 		},
 		
 		stopThief: function() {
 			var looter1 = game.findMob('looter1');
 			var epithet = this.race;
 			if (this.race === "point") {
 				epithet = "pointy";
 			} else {
 				epithet = "point-lover";
 			};
 			view.displayDialogue("Stay out of our way, "+epithet+"!  This city's going to burn, and we're getting ours while we can.  You should, too!",looter1.name,looter1.imgBust,"left");
 			view.nextEvent('stopThief2');
 			this.location.event = undefined;
 			document.getElementById('mapBackgroundImg').src='img/theCityRevolts2.png';
 		},
 		
 		stopThief2: function() {
 			view.displayDialogue("This is my neighborhood, punk.  You're not going to steal from Mother Skullgoblet on my watch!",view.focus.mob.name,view.focus.mob.imgBust,"right");
 			map.findHex(8,10).event = theCityRevolts.events.thankYou;
 		},
 		
 		thankYou: function() {
 			var looter1 = game.findMob('looter1');
 			var looter2 = game.findMob('looter2');
 			var skullgoblet = game.findMob('motherSkullgoblet');
 			if (looter1.stats.morale === 0 && looter2.stats.morale === 0) {
 				view.displayDialogue("Oh, thank you, thank you!  I take back every disparaging thing I ever said about you two rascals.",skullgoblet.name,skullgoblet.imgBust,"right");
 				this.location.event = undefined;
 				view.nextEvent('welcome',this);
 			};
 		},
 		
 		welcome: function() {
 			view.displayDialogue("You're... welcome, I guess.  What... what disparaging things have you been... you know, never mind.  What should we do with these two?",this.name,this.imgBust,"left");
 			view.nextEvent('welcome2',this);
 		},
 		
 		welcome2: function() {
 			var skullgoblet = game.findMob('motherSkullgoblet');
 			view.displayDialogue("Oh, you leave them to me.  I can't run and chase 'em, but I can give them the whupping they deserve now that they stay still.  You two come back by the shop later.  I'll remember this!",skullgoblet.name,skullgolet.imgBust,"right");
 			company.deeds.skullgoblet = true;
 		},
 		
 		charter: function() {
 			view.displayDialogue("Excuse me!  Master Moucau!  Master Moucau!",this.name,this.imgBust,"left");
 			view.nextEvent('charter2');
 			this.location.event = undefined;
 		},
 		
 		charter2: function() {
 			var guildmasterMoucau = game.findMob('guildmasterMoucau');
 			view.displayDialogue("Yes?  So glad to see you come out for this!  Let me shake your hand before I go up on stage right now.",guildmasterMoucau.name,guildmasterMoucau.imgBust,"right");
 			view.nextEvent('charter3');
 		},
 		
 		charter3: function() {
 			view.displayDialogue("We're hoping for more than a handshake, Master.  My name is "+mobs[0].name+", this is my friend Mixter Stout.  We're hoping to register a charter for a fighting company.  We want to help the city.  Defend it, fight the Ogre King, preserve the Pileus way of life!",mobs[0].name,mobs[0].imgBust,"left");
 			view.nextEvent('charter4');
 		},
 		
 		charter4: function() {
 			var guildmasterMoucau = game.findMob('guildmasterMoucau');
 			view.displayDialogue("Right... well.  I suppose I could accept your petition.  Right after you supply the thousand gold piece registration fee.",guildmasterMoucau.name,guildmasterMoucau.imgBust,"right");
 			view.nextEvent('charter5');
 		},
 		
 		charter5: function() {
 			view.displayDialogue("Th... thousa... I'm sorry, one <em>thousand</em> gold pieces?!?  Just to join the fight to protect our city?",mobs[0].name,mobs[0].imgBust,"left");
 			view.nextEvent('charter6');
 		},
 		
 		charter6: function() {
 			var stout = game.findMob('stout');
 			view.displayDialogue("Oooooohhh, I get it.  The city registering all these companies isn't a call to arms, it's a tax scheme.",stout.name,stout.imgBust,"left");
 			view.nextEvent('charter7');
 		},
 		
 		charter7: function() {
 			var guildmasterMoucau = game.findMob('guildmasterMoucau');
 			view.displayDialogue("You're very sharp.  The city will need full coffers to fund our defense.<p>I wish I could help you kids.  I will say the City Watch is always accepting strong arms.  Why don't you inquire there?  But I'm afraid I've got to go.",guildmasterMoucau.name,guildmasterMoucau.imgBust,"right");
 			view.nextEvent('charter8');
 		},
 		
 		charter8: function() {
 			var guildmasterMoucau = game.findMob('guildmasterMoucau');
 			var stage = map.findHex(21,2);
 			guildmasterMoucau.stats.move = 8;
 			guildmasterMoucau.move(stage);
 			var stageSteps = map.findHex(16,2);
 			var elderBock = game.findMob('elderBock');
 			elderBock.move(stageSteps);
 			handlers.hideDialogueDiv();
 		},
 		
 		assassins: function() {
 			var assassin1 = game.findMob('assassin1');
 			var assassin2 = game.findMob('assassin2');
 			var landingHex1 = map.findHex(20,2);
 			var landingHex2 = map.findHex(22,2);
 			
 			view.moveMob(assassin1,landingHex1);
 			assassin1.location = landingHex1;
 			view.moveMob(assassin2,landingHex2);
 			assassin2.location = landingHex2;
 			
 			view.displayDialogue("Death to the Traitor Council!  Death to the Betrayer Guildmasters!  Long Live the Ogre King!",assassin1.name,assassin1.imgBust,"left");
 			view.nextEvent('assassins2');
 			
 			map.findHex(20,4).event = undefined;
 			map.findHex(21,5).event = undefined;
 		},
 		
 		assassins2: function() {
 			var elderBock = game.findMob('elderBock');
 			elderBock.move(map.findHex(18,2));
 			var guildmasterMoucau = game.findMob('guildmasterMoucau');
 			view.displayDialogue("Shit!",guildmasterMoucau.name,guildmasterMoucau.imgBust,"right");
 			view.nextEvent('assassins3');
 		},
 		
 		assassins3: function() {
 			var guildmasterMoucau = game.findMob('guildmasterMoucau');
 			view.moveMob(guildmasterMoucau,map.findHex(21,4));
 			view.displayDialogue("Help me!  "+mobs[0].name+", save me!",guildmasterMoucau.name,guildmasterMoucau.imgBust,"right");
 			view.nextEvent('assassins4');
 		},
 		
 		assassins4: function() {
 			handlers.hideDialogueDiv();
 			var guildmasterMoucau = game.findMob('guildmasterMoucau');
//  			guildmasterMoucau.stats.move = 8;
//  			guildmasterMoucau.move(map.findHex(20,9));
//				This really should be an AI that takes him across the map in a few moves
			var hideyHole = map.findHex(20,9);
			view.moveMob(guildmasterMoucau,hideyHole);
			guildmasterMoucau.location = hideyHole;
 			
 			var assassin1 = game.findMob('assassin1');
 			var assassin2 = game.findMob('assassin2');
 			var landingHex1 = map.findHex(21,4);
 			var landingHex2 = map.findHex(22,4);
 			view.moveMob(assassin1,landingHex1);
 			assassin1.location = landingHex1;
 			view.moveMob(assassin2,landingHex2);
 			assassin2.location = landingHex2;
 			
 			var daisy = game.findMob('daisy');
 			view.displayDialogue("Keep your filthy loyalist hands off my father!",daisy.name,daisy.imgBust,"right");
 			view.nextEvent('daisyJoin');
 		},
 		
 		daisyJoin: function() {
 			var daisy = game.findMob('daisy');
  			view.displayDialogue("Daisy has joined the party!",undefined,daisy.imgBust,"right");
  			daisy.player = true;
  			daisy.look(daisy.location);
 		},
 		
 		safe: function() {
 			var assassin1 = game.findMob('assassin1');
 			var assassin2 = game.findMob('assassin2');
 			if (assassin1.stats.morale === 0 && assassin2.stats.morale === 0) {
 				var guildmasterMoucau = game.findMob('guildmasterMoucau');
 				view.displayDialogue("I owe you my life!  Thank you, thank you!<p>You know what?  I'll pay your registration fee and get you that charter.  I think this city needs brave heroes like you!",guildmasterMoucau.name,guildmasterMoucau.img,"left");
 				view.nextEvent('andMyAxe');
 			};
 		},
 		
 		andMyAxe: function() {
 			view.displayDialogue("If you'll be fighting the cowards that tried to kill my father, I'll join your ranks.  Do we have a 401k?",daisy.name,daisy.img,"right");
 			view.nextEvent('welcomeAboard');
 		},
 		
 		welcomeAboard: function() {
 			view.displayDialogue("Welcome aboard.  Gotta warn you, we live here in Orktown.  But we're happy to have you.",mobs[0].name,mobs[0].img,"left");
 			view.setupReturn();
 		},
 	},
 
 };